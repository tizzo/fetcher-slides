<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Drush Fetcher</title>

		<meta name="description" content="A drush based provisioning and synchronization tool.">
		<meta name="author" content="Howard Tyson">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Introducing Fetcher!</h1>
					<h3>Best practices made easy</h3>
					<p>
						<small>Created by Howard Tyson (<a href="http://twitter.com/tizzo">@tizzo</a>)</small>
					</p>
				</section>
        <section>
          <h1>HI I'm Howard!!!</h1>
          <ul>
          	<li class="fragment visisble"><a href="http://twitter.com/tizzo">@tizzo</a> on Drupal.org, IRC, GitHub, Twitter</li>
          	<li class="fragment visisble">VP of Engineering at Zivtech</li>
          	<li class="fragment visisble">QUESTIONS? Contact me! howard@howardtyson.com, @tizzo on twitter, tizzo on IRC</li>
          </ul>
        </section>
        <section>
	        <section>
	        	<h1>Basic Truths</h1>
	        </section>
	        <section>
	          <h1>Never in your life will you feel like you have enough time.</h1>
	          <p  class="fragment visible">Man, this presentation just got <strong><em>REAL</em></strong>.</p>
	        </section>
	        <section>
	          <h1>When things are easy you do them more.</h1>
	        </section>
	        <section>
	          <video width="100%">
	            <source src="assets/dog-fetch.mp4" type="video/mp4" >
	          </video>
	        </section>
        </section>
        <section>
	        <section>
	        	<h1>MEET FETCHER!</h1>
	        </section>
	        <section>
	        	<h2>Fetcher is a drush extension</h2>
	        </section>
	        <section>
	        	<h2>It does everything you need to do to setup a new Drupal Site!</h2>
	        </section>
	        <section>
	        	<h1>Setting up the project directory</h1>
	        </section>
	        <section>
	        	<h1>Getting the code</h1>
	        </section>
	        <section>
	        	<h1>Adding the Apache vhost</h1>
	        </section>
	        <section>
	        	<h1>Creating the MySQL database, user, and grants</h1>
	        </section>
	        <section>
	        	<h1>Creating the settings.php file</h1>
	        </section>
	        <section>
	        	<h1>Creating drush aliases</h1>
	        </section>
	        <section>
	        	<h1>Grab any existing database or files</h1>
	        </section>
	      </section>
	        <section>
		        <section>
		        	<h1>Fetcher is highly configurable and pluggable</h1>
		        </section>
		        <section>
		        	<h2>Configure it in .drushrc.php</h2>
		        	<p>Just add stuff to $options['fetcher']</p>
		        </section>
		        <section>
		        	<h2>Fetcher is highly dynamic</h2>
		        	<p>You can make configuration out of other configuration</p>
		        	<pre>
								<code data-trim="" class="php">
$conf['fetcher']['hostname'] = function($site) {
	return $site['hostnmae']
};
								</code>
							</pre>
		        </section>
	        </section>
        </section>
        <section>
        	<section>
        		<h1>It keeps a List of your sites</h1>
      		</section>
	        <section data-background="black">
	        	<img src="assets/your-base.jpg">
	        	<p>All your sites are belong to fetcher!</p>
	        </section>
	        <section>
	        	<h2>Drush Aliases</h2>
	        	<pre>
							<code data-trim="" class="php">
$aliases['dev'] = array(
  'uri' => 'dev.mysite.com',
  'root' => '/var/www/html/mysite/webroot',
  'fetcher' => array(
     'title' => 'My Site',
     'name'  => 'mysite',
     'version' => 7,
     'code_fetcher.class' => 'Fetcher\CodeFetcher\VCS\Git',
     'code_fetcher.config' => array(
        'branch' => 'master',
        'url'   => 'git@github.com:mycompany/mysite.git',
      ),
    'environments' => array(
      'dev' => array(),
    ),
    'uri' => 'mysite.local',
    'environment.remote' => 'dev',
   ),
);
							</code>
						</pre>
	        </section>
	        <section>
	        	<h2>Fetcher Services</h1>
	        	<p>A completely separate project on Drupal.org</p>
	        	<a href="http://drupal.org/project/fetcher_services">http://drupal.org/project/fetcher_services</a>
	        	<p class="fragment visible"></p>
	        </section>
	        <section>
	        	<h3>Easy to setup</h3>
	        	<p>A Features module ships with everything you need</p>
	        	<p  class="fragment visible">...but may be hard to debug, sorry!</p>
	        </section>
	        <section>
	        	<h3>Secure</h3>
	        	<p>Uses the SSH keys you alread know and love</p>
	        </section>
	        <section>
	        	<h3>Installation Part 1</h3>
	        	<ul>
		        	<li class="fragment visible">Setup a publicly accessible Drupal site.</li>
		        	<li class="fragment visible">Install the dependencies. There are a lots, just use:
		        		<ul class="fragment visible">
			        		<li>`<code>drush dl fetcher_services</code>`</li>
			        		<li>`<code>drush en -y fetcher_services</code>`</li>
		        		</ul>
		        	</li>
		        </ul>
	        </section>
	        <section>
	        	<h3>Installation Part 2</h3>
	        	<ul>
		        	<li class="fragment visible">Install fetcher_services (`<code>drush dl fetcher_services</code>`).</li>
		        	<li class="fragment visible">Edit settings.php</li>
		        </ul>
	        	<pre  class="fragment visible">
							<code data-trim="" class="php">
$options['fetcher']['info-fetcher.class'] = 'FetcherServices\InfoFetcher\FetcherServices';
$options['fetcher']['info-fetcher.config'] = array('host' => 'http://fetcher-services.local');
							</code>
						</pre>
	        </section>
	        <section>
	        	<h1>DEMO</h1>
	        </section>
        </section>
        <section>
	        <section>
	        	<h1>Build Hooks</h1>
	        </section>
	        <section>
	        	<h3>Running a Command</h3>
	        	<div class="fragment visible">
		        	<p>Just create a `<code>fetcher.make.php</code>` and add tasks to run after the build.</p>
		        	<pre class="fragment visible"><code data-trim class="php">
		        		$site->registerBuildHook('after', 'command to run', 'directory/to/run/it');
		        	</pre></code>
		        </div>
	        </section>
	        <section>
	        	<div>
	        		<h3>A more practical example...</h3>
		        	<pre><code data-trim class="php">
		        		$site->registerBuildHook('after', 'compass compile', 'sites/all/themes/foo');
		        	</pre></code>
		        </div>
	        </section>
	        <section>
	        	<h3>Running custom code</h3>
	        	<div class="fragment visible">
		        	<p>Just create a `<code>fetcher.make.php</code>` and add tasks to run after the build.</p>
		        	<pre class="fragment visible"><code data-trim class="php">
$site->registerBuildHook('after', function($site) {
	// Do stuff here...
	// You can access information about the site.
	print $site['hostname'];
});
		        	</pre></code>
		        </div>
	        </section>
       </section>
				<section>
					<h1>THE END</h1>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
      Reveal.addEventListener( 'slidechanged', function( event ) {
				try {
					event.currentSlide.firstElementChild.play();
				}
				catch (e) {
					return;
				}
			});

		</script>

	</body>
</html>
